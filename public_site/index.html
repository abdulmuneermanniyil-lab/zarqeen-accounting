<!-- Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„Ù‘ÙŽÙ‡Ù Ù±Ù„Ø±Ù‘ÙŽØ­Ù’Ù…ÙŽÙ€Ù°Ù†Ù Ù±Ù„Ø±Ù‘ÙŽØ­ÙÙŠÙ…Ù -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Zarqeen Alif - Invoicing Software</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<link rel="icon" href="static/header.png">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter}
body{background:#F3F4F6;color:#111}
a{text-decoration:none}
button{cursor:pointer}

header{background:white;box-shadow:0 1px 3px rgba(0,0,0,.1)}
.nav-container{max-width:1200px;margin:auto;padding:1rem;display:flex;justify-content:space-between;align-items:center}
.nav-links a{margin-left:20px;font-weight:600;color:#2563EB}

.hero{text-align:center;padding:4rem 1rem;background:#EFF6FF}
.hero h1{font-size:2.5rem;font-weight:800;margin-bottom:1rem}
.hero p{color:#555}

.features,.pricing-section{max-width:1200px;margin:auto;padding:3rem 1rem}
.features{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}

.feature-card{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.05)}

.pricing-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
.plan-card{background:white;padding:25px;border-radius:14px;border:1px solid #e5e7eb;display:flex;flex-direction:column}
.plan-card.popular{border:2px solid #2563EB}

.btn{padding:12px;border-radius:8px;border:none;font-weight:700}
.btn-primary{background:#2563EB;color:white}
.btn-secondary{background:#E5E7EB}

footer{text-align:center;padding:2rem;background:white;margin-top:3rem}

/* DASHBOARD */
#dashboardSection{display:none;padding:2rem}
.dash-header{background:white;padding:20px;border-radius:12px;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center}
.dash-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}
.dash-card{background:white;padding:20px;border-radius:12px}
.dash-val{font-size:2rem;font-weight:800;color:#2563EB}
</style>
</head>

<body>

<header>
  <div class="nav-container">
    <strong>Zarqeen Alif</strong>
    <div class="nav-links">
      <a onclick="openLogin()">Login</a>
      <a href="https://drive.google.com" target="_blank">Download</a>
    </div>
  </div>
</header>

<section class="hero">
  <h1>Indiaâ€™s Best Value Invoicing Software</h1>
  <p>Fast â€¢ Offline â€¢ Simple â€¢ Affordable</p>
</section>

<section id="features" class="features">
  <div class="feature-card">âš¡ Fast & Offline</div>
  <div class="feature-card">ðŸ–¨ All Printer Sizes</div>
  <div class="feature-card">ðŸ‡®ðŸ‡³ Made for India</div>
</section>

<!-- ðŸ”¥ FIX: pricing ID ADDED -->
<section id="pricing" class="pricing-section">
  <h2 style="text-align:center;margin-bottom:30px">Pricing</h2>
  <div class="pricing-grid">
    <div class="plan-card">
      <h3>Trial</h3>
      <p>Free â€“ 7 Days</p>
      <button class="btn btn-secondary">Download</button>
    </div>
    <div class="plan-card">
      <h3>Basic</h3>
      <p>â‚¹299 / year</p>
      <button class="btn btn-primary" onclick="buyPlan('basic')">Buy</button>
    </div>
    <div class="plan-card popular">
      <h3>Premium</h3>
      <p>â‚¹599 / 3 years</p>
      <button class="btn btn-primary" onclick="buyPlan('premium')">Buy</button>
    </div>
  </div>
</section>

<footer>
  Â© <span id="year"></span> Zarqeen Accounting Solutions
</footer>

<!-- DASHBOARD -->
<div id="dashboardSection">
  <div class="dash-header">
    <div>
      <h2 id="dashName"></h2>
      <small>Code: <b id="dashCode"></b></small>
    </div>
    <button class="btn btn-secondary" onclick="logout()">Logout</button>
  </div>

  <div class="dash-grid">
    <div class="dash-card">
      <div class="dash-val" id="dashTotal">0</div>
      Total Sales
    </div>
    <div class="dash-card">
      <div class="dash-val">â‚¹<span id="dashComm">0</span></div>
      Commission
    </div>
  </div>
</div>

<!-- LOGIN -->
<div id="loginBox" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center">
  <div style="background:white;padding:30px;border-radius:10px;width:300px">
    <h3>Distributor Login</h3>
    <input id="email" placeholder="Email" style="width:100%;margin:10px 0;padding:8px">
    <input id="password" type="password" placeholder="Password" style="width:100%;margin:10px 0;padding:8px">
    <button class="btn btn-primary" onclick="login()">Login</button>
  </div>
</div>

<script>
const BACKEND_URL = "https://zarqeen-backend.onrender.com";
document.getElementById("year").textContent=new Date().getFullYear();

function openLogin(){document.getElementById("loginBox").style.display="flex"}

async function login(){
  const email=document.getElementById("email").value;
  const password=document.getElementById("password").value;

  const r=await fetch(`${BACKEND_URL}/api/distributor/login`,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({email,password})
  });
  const d=await r.json();
  if(d.success){
    localStorage.setItem("dist_token",d.token);
    document.getElementById("loginBox").style.display="none";
    loadDashboard();
  }else alert("Login failed");
}

async function loadDashboard(){
  const t=localStorage.getItem("dist_token");
  if(!t) return;

  const r=await fetch(`${BACKEND_URL}/api/distributor/data?page=1`,{
    headers:{Authorization:`Bearer ${t}`}
  });
  const d=await r.json();

  // SAFE VIEW SWITCH
  ["header",".hero","#features","#pricing","footer"].forEach(sel=>{
    const el=document.querySelector(sel);
    if(el) el.style.display="none";
  });

  document.getElementById("dashboardSection").style.display="block";
  document.getElementById("dashName").textContent=d.name;
  document.getElementById("dashCode").textContent=d.code;
  document.getElementById("dashTotal").textContent=d.total_sales;
  document.getElementById("dashComm").textContent=d.commission_earned.toFixed(2);
}

function logout(){
  localStorage.removeItem("dist_token");
  location.reload();
}

window.onload=()=>{if(localStorage.getItem("dist_token")) loadDashboard()}
</script>

</body>
</html>
